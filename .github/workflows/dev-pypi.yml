name: Development Pypi
on:
  push:
    branches:
      - "dev"
jobs:
  pypi:
    name: Pypi
    runs-on: ubuntu-latest

    steps:
      - uses: actions/checkout@v1
      - name: Set up Python
        uses: actions/setup-python@master
        with:
          python-version: 3.9
      - name: Creating Variable Outputs
        id: vars
        run: echo ::set-output name=commit::$(git rev-parse --short "$GITHUB_SHA")
      - name: Setting Environment Variables
        run: echo ${{ steps.vars.outputs.commit }}







# - uses: actions/checkout@v1
#         name: Setting Pipeline Variables
#         id: vars
#         run: echo ::set-output name=commit::$(git rev-parse --short "$GITHUB_SHA")
#       - name: Setting Environments
#         env:
#           NHENTAI_VERSION: ${{ steps.vars.outputs.commit }}
#           NHENTAI_ENVIRONMENT: dev
#       - name: Set up Python
#         uses: actions/setup-python@master
#         with:
#           python-version: 3.9
#       - name: Changing package name
#         run: |
#           mv ./NHentai ./dev_nhentai
#       - name: Checking folder
#         run: |
#           ls -la
#       - name: Create dist folder
#         run: |
#           python setup.py sdist --dist-dir=./dev_dist
#       - name: Checking folder
#         run: |
#           ls
#       - name: Publish a Python distribution to PyPI
#         uses: pypa/gh-action-pypi-publish@release/v1
#         with:
#           user: __token__
#           password: ${{ secrets.PYPI_API_TOKEN }}
#           packages_dir: dev_dist/